#!/bin/bash

echo "🎓 編集前チェック:"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "以下を確認してから編集を開始します："
echo ""
echo "1. 📚 変更する内容を理解していますか？"
echo "2. 🤔 なぜこの変更が必要か説明できますか？"
echo "3. 🔄 他の方法も検討しましたか？"
echo "4. 🎯 期待する結果を明確にイメージできていますか？"
echo ""
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"

# ユーザーの確認を待つ
read -p "💡 理解できている場合は 'y' を、説明が必要な場合は 'n' を入力してください: " response

case "$response" in
    [Yy]* )
        echo "✅ 編集を開始します。段階的に進めていきましょう！"
        echo ""
        ;;
    [Nn]* )
        echo "❌ まず概念の説明から始めましょう。"
        echo "💬 Claude に「[変更したい内容] について段階的に説明してください」と依頼してください。"
        exit 1
        ;;
    * )
        echo "⚠️  'y' または 'n' を入力してください。"
        exit 1
        ;;
esac

# 編集ファイル情報の表示（環境変数から取得できる場合）
if [ ! -z "$CLAUDE_EDIT_FILE" ]; then
    echo "📝 編集対象ファイル: $CLAUDE_EDIT_FILE"
    echo ""
fi

echo "🚀 学習を重視した編集セッションを開始します..."
