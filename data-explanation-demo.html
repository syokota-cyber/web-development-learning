<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ‡ãƒ¼ã‚¿ä¿å­˜ã®ä»•çµ„ã¿è§£èª¬</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { 
            font-family: system-ui, -apple-system, sans-serif; 
            max-width: 800px; 
            margin: 0 auto; 
            padding: 20px; 
            line-height: 1.6;
        }
        .section { 
            background: #f8f9fa; 
            padding: 20px; 
            margin: 20px 0; 
            border-radius: 8px; 
            border-left: 4px solid #007bff;
        }
        .memory-demo { background: #fff3cd; border-left-color: #ffc107; }
        .localstorage-demo { background: #d1ecf1; border-left-color: #17a2b8; }
        .code { 
            background: #f1f3f4; 
            padding: 10px; 
            border-radius: 4px; 
            font-family: 'Monaco', monospace; 
            margin: 10px 0;
        }
        button { 
            background: #007bff; 
            color: white; 
            border: none; 
            padding: 8px 16px; 
            border-radius: 4px; 
            cursor: pointer; 
            margin: 5px;
        }
        .btn-warning { background: #ffc107; color: #212529; }
        .btn-info { background: #17a2b8; }
        .btn-danger { background: #dc3545; }
        .data-display {
            background: white;
            border: 1px solid #dee2e6;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        function DataExplanationApp() {
            // ğŸ§  ãƒ¡ãƒ¢ãƒªä¿å­˜ï¼ˆä¸€æ™‚çš„ï¼‰
            const [memoryData, setMemoryData] = React.useState({
                name: "ã‚·ãƒ§ã‚³ãŸã‚“ã”",
                progress: "ãƒ‡ãƒ¼ã‚¿ä¿å­˜ã®ä»•çµ„ã¿å­¦ç¿’ä¸­"
            });
            
            // ğŸ’¾ localStorageä¿å­˜ï¼ˆæ°¸ç¶šçš„ï¼‰
            const [persistentData, setPersistentData] = React.useState(() => {
                const saved = localStorage.getItem('learningData');
                return saved ? JSON.parse(saved) : {
                    name: "æœªè¨­å®š",
                    completedTopics: []
                };
            });
            
            const [newTopic, setNewTopic] = React.useState("");

            // ãƒ¡ãƒ¢ãƒªãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°
            const updateMemoryData = () => {
                setMemoryData({
                    name: "ã‚·ãƒ§ã‚³ãŸã‚“ã”",
                    progress: `æ›´æ–°æ™‚åˆ»: ${new Date().toLocaleTimeString()}`
                });
            };

            // localStorageãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°
            const updatePersistentData = () => {
                if (!newTopic.trim()) return;
                
                const updated = {
                    ...persistentData,
                    completedTopics: [...persistentData.completedTopics, {
                        topic: newTopic,
                        completedAt: new Date().toLocaleString()
                    }]
                };
                
                setPersistentData(updated);
                localStorage.setItem('learningData', JSON.stringify(updated));
                setNewTopic("");
            };

            // ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªã‚¢
            const clearMemoryData = () => {
                setMemoryData({ name: "", progress: "" });
            };

            const clearPersistentData = () => {
                const cleared = { name: "æœªè¨­å®š", completedTopics: [] };
                setPersistentData(cleared);
                localStorage.setItem('learningData', JSON.stringify(cleared));
            };

            return (
                <div>
                    <h1>ğŸ” Reactã®ãƒ‡ãƒ¼ã‚¿ä¿å­˜å ´æ‰€è§£èª¬</h1>
                    
                    <div className="section">
                        <h2>ğŸ’¡ é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ</h2>
                        <ul>
                            <li><strong>ãƒ¡ãƒ¢ãƒªä¿å­˜</strong>: ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ã§æ¶ˆãˆã‚‹ï¼ˆä¸€æ™‚çš„ï¼‰</li>
                            <li><strong>localStorage</strong>: ãƒ–ãƒ©ã‚¦ã‚¶ã«æ°¸ç¶šä¿å­˜</li>
                            <li><strong>ç•°ãªã‚‹HTMLãƒ•ã‚¡ã‚¤ãƒ«</strong>: ãƒ‡ãƒ¼ã‚¿å…±æœ‰ã•ã‚Œãªã„</li>
                        </ul>
                    </div>

                    {/* ãƒ¡ãƒ¢ãƒªä¿å­˜ãƒ‡ãƒ¢ */}
                    <div className="section memory-demo">
                        <h2>ğŸ§  ãƒ¡ãƒ¢ãƒªä¿å­˜ï¼ˆä¸€æ™‚çš„ï¼‰- useState</h2>
                        <p>ã“ã‚ŒãŒä»Šã¾ã§ã®ä¾‹ã§ä½¿ã£ã¦ã„ãŸæ–¹æ³•ã§ã™</p>
                        
                        <div className="code">
                            const [data, setData] = useState(åˆæœŸå€¤); // â† ãƒ¡ãƒ¢ãƒªã®ã¿
                        </div>
                        
                        <div className="data-display">
                            <strong>ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿:</strong><br/>
                            åå‰: {memoryData.name}<br/>
                            é€²æ—: {memoryData.progress}
                        </div>
                        
                        <button onClick={updateMemoryData} className="btn-warning">
                            ğŸ”„ ãƒ¡ãƒ¢ãƒªãƒ‡ãƒ¼ã‚¿æ›´æ–°
                        </button>
                        <button onClick={clearMemoryData} className="btn-danger">
                            ğŸ—‘ï¸ ãƒ¡ãƒ¢ãƒªãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªã‚¢
                        </button>
                        
                        <p><strong>âš ï¸ æ³¨æ„:</strong> ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ï¼ˆF5ï¼‰ã™ã‚‹ã¨åˆæœŸå€¤ã«æˆ»ã‚Šã¾ã™</p>
                    </div>

                    {/* localStorageä¿å­˜ãƒ‡ãƒ¢ */}
                    <div className="section localstorage-demo">
                        <h2>ğŸ’¾ localStorageä¿å­˜ï¼ˆæ°¸ç¶šçš„ï¼‰</h2>
                        <p>ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‰ã˜ã¦ã‚‚æ®‹ã‚‹æ–¹æ³•</p>
                        
                        <div className="code">
                            localStorage.setItem('key', JSON.stringify(data)); // â† æ°¸ç¶šä¿å­˜
                        </div>
                        
                        <div className="data-display">
                            <strong>æ°¸ç¶šãƒ‡ãƒ¼ã‚¿:</strong><br/>
                            åå‰: {persistentData.name}<br/>
                            å®Œäº†ã—ãŸå­¦ç¿’é …ç›®: {persistentData.completedTopics.length}å€‹
                            
                            {persistentData.completedTopics.length > 0 && (
                                <div style={{marginTop: '10px'}}>
                                    <strong>å­¦ç¿’å±¥æ­´:</strong>
                                    {persistentData.completedTopics.map((item, index) => (
                                        <div key={index} style={{fontSize: '12px', color: '#666'}}>
                                            âœ… {item.topic} ({item.completedAt})
                                        </div>
                                    ))}
                                </div>
                            )}
                        </div>
                        
                        <div>
                            <input 
                                type="text"
                                value={newTopic}
                                onChange={(e) => setNewTopic(e.target.value)}
                                placeholder="æ–°ã—ã„å­¦ç¿’é …ç›®ã‚’è¿½åŠ "
                                style={{padding: '8px', marginRight: '10px', width: '200px'}}
                            />
                            <button onClick={updatePersistentData} className="btn-info">
                                ğŸ’¾ æ°¸ç¶šä¿å­˜
                            </button>
                        </div>
                        
                        <button onClick={clearPersistentData} className="btn-danger">
                            ğŸ—‘ï¸ æ°¸ç¶šãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªã‚¢
                        </button>
                        
                        <p><strong>âœ… ç¢ºèª:</strong> ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ï¼ˆF5ï¼‰ã—ã¦ã‚‚æ®‹ã‚Šã¾ã™ï¼</p>
                    </div>

                    {/* å®Ÿé¨“ã‚³ãƒ¼ãƒŠãƒ¼ */}
                    <div className="section">
                        <h2>ğŸ§ª å®Ÿé¨“ã—ã¦ã¿ã‚ˆã†</h2>
                        <ol>
                            <li><strong>ãƒ¡ãƒ¢ãƒªãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°</strong>ã—ã¦ã‹ã‚‰ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ â†’ æ¶ˆãˆã‚‹</li>
                            <li><strong>æ°¸ç¶šãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ </strong>ã—ã¦ã‹ã‚‰ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ â†’ æ®‹ã‚‹</li>
                            <li><strong>ãƒ–ãƒ©ã‚¦ã‚¶ã‚’å®Œå…¨ã«é–‰ã˜ã¦</strong>å†åº¦é–‹ã â†’ æ°¸ç¶šãƒ‡ãƒ¼ã‚¿ã®ã¿æ®‹ã‚‹</li>
                        </ol>
                        
                        <div className="code">
                            {`// ç¾åœ¨ã®localStorageã®ä¸­èº«ã‚’ç¢ºèª
console.log(localStorage.getItem('learningData'));

// é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã®Applicationã‚¿ãƒ–ã§ã‚‚ç¢ºèªå¯èƒ½`}
                        </div>
                    </div>

                    {/* æŠ€è¡“çš„èª¬æ˜ */}
                    <div className="section">
                        <h2>âš™ï¸ æŠ€è¡“çš„ãªé•ã„</h2>
                        <table style={{width: '100%', borderCollapse: 'collapse'}}>
                            <thead>
                                <tr style={{background: '#e9ecef'}}>
                                    <th style={{padding: '8px', border: '1px solid #dee2e6'}}>ä¿å­˜æ–¹æ³•</th>
                                    <th style={{padding: '8px', border: '1px solid #dee2e6'}}>ä¿å­˜å ´æ‰€</th>
                                    <th style={{padding: '8px', border: '1px solid #dee2e6'}}>æ°¸ç¶šæ€§</th>
                                    <th style={{padding: '8px', border: '1px solid #dee2e6'}}>å®¹é‡åˆ¶é™</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style={{padding: '8px', border: '1px solid #dee2e6'}}>useState</td>
                                    <td style={{padding: '8px', border: '1px solid #dee2e6'}}>ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ¡ãƒ¢ãƒª</td>
                                    <td style={{padding: '8px', border: '1px solid #dee2e6'}}>âŒ ãƒªãƒ­ãƒ¼ãƒ‰ã§æ¶ˆå¤±</td>
                                    <td style={{padding: '8px', border: '1px solid #dee2e6'}}>ãƒ¡ãƒ¢ãƒªæ¬¡ç¬¬</td>
                                </tr>
                                <tr>
                                    <td style={{padding: '8px', border: '1px solid #dee2e6'}}>localStorage</td>
                                    <td style={{padding: '8px', border: '1px solid #dee2e6'}}>ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ­ãƒ¼ã‚«ãƒ«DB</td>
                                    <td style={{padding: '8px', border: '1px solid #dee2e6'}}>âœ… æ°¸ç¶šä¿å­˜</td>
                                    <td style={{padding: '8px', border: '1px solid #dee2e6'}}>~5-10MB</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            );
        }

        // ã‚¢ãƒ—ãƒªã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<DataExplanationApp />);
    </script>
</body>
</html>